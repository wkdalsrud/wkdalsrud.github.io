I"X@<p class="notice--warning">ì¸í”„ëŸ°ì— ìˆëŠ” Rookissë‹˜ì˜ <strong>[C#ê³¼ ìœ ë‹ˆí‹°ë¡œ ë§Œë“œëŠ” MMORPG ê²Œì„ ê°œë°œ ì‹œë¦¬ì¦ˆ] Part2: ìë£Œêµ¬ì¡°ì™€ ì•Œê³ ë¦¬ì¦˜</strong> ê°•ì˜ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€<br />
<a href="(https://www.inflearn.com/course/ìœ ë‹ˆí‹°-MMORPG-ìœ ë‹ˆí‹°-ê°œë°œ-part2#)">ğŸŒœ ê°•ì˜ ë“¤ìœ¼ëŸ¬ ê°€ê¸° Click</a></p>

<h1 id="chapter-3-ë¯¸ë¡œ-ì¤€ë¹„">Chapter 3. ë¯¸ë¡œ ì¤€ë¹„</h1>

<h2 id="-ë¯¸ë¡œ-ì¤€ë¹„">ğŸš– ë¯¸ë¡œ ì¤€ë¹„</h2>

<p><img src="https://user-images.githubusercontent.com/42318591/94974853-cd004d80-054a-11eb-9ec2-1732a2cbfcc3.png" alt="image" /></p>

<ul>
  <li>ë¯¸ë¡œëŠ” í•œ ì¹¸ í•œ ì¹¸ë§ˆë‹¤ ì±„ì›Œì ¸ ìˆëŠ” ì› í•˜ë‚˜ë¡œ ê·¸ë¦°ë‹¤.</li>
  <li>ë¯¸ë¡œì˜ í¬ê¸°ëŠ” size X size ë¡œ ì§€ì •.</li>
  <li>ë¯¸ë¡œ ë°°ì—´ì€ ì´ì°¨ì› ë°°ì—´ë¡œ ê´€ë¦¬í•˜ê³  ì›ì†Œë¥¼ íƒ€ì¼ì´ë¼ê³  í•˜ì.</li>
  <li>ê°€ì¥ ìë¦¬ì˜ íƒ€ì¼ë“¤ì€ ë²½ì´ë©° ë¹¨ê°„ìƒ‰.</li>
  <li>ê°€ì¥ ìë¦¬ê°€ ì•„ë‹Œ íƒ€ì¼ë“¤ì€ ê°ˆ ìˆ˜ ìˆëŠ” ê³³ì´ë©° ì´ˆë¡ìƒ‰.</li>
</ul>

<h3 id="boardcs">ğŸ“œBoard.cs</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Algorithm</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">Board</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="kt">char</span> <span class="n">CIRCLE</span> <span class="p">=</span> <span class="err">'\</span><span class="n">u25cf</span><span class="err">'</span><span class="p">;</span>  <span class="c1">// ì±„ì›Œì§„ ì› ê·¸ë¦¬ëŠ” ë¬¸ì ì½”ë“œ</span>

        <span class="k">public</span> <span class="n">TileType</span><span class="p">[,]</span> <span class="n">_tile</span><span class="p">;</span>  <span class="c1">// ë§µ ë°°ì—´. 2ì°¨ì› ë°°ì—´</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">_size</span><span class="p">;</span>  <span class="c1">// ë§µ í¬ê¸°. _size X _size ë¡œ ì •í•´ì§</span>

        <span class="k">public</span> <span class="k">enum</span> <span class="n">TileType</span>
        <span class="p">{</span>
            <span class="n">Empty</span><span class="p">,</span>   <span class="c1">// ê°ˆ ìˆ˜ ìˆëŠ” íƒ€ì¼</span>
            <span class="n">Wall</span><span class="p">,</span>    <span class="c1">// ê°ˆ ìˆ˜ ì—†ëŠ” íƒ€ì¼</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Initialize</span><span class="p">(</span><span class="kt">int</span> <span class="n">size</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_tile</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TileType</span><span class="p">[</span><span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">];</span>
            <span class="n">_size</span> <span class="p">=</span> <span class="n">size</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">_size</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_size</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="p">==</span> <span class="m">0</span> <span class="p">||</span> <span class="n">x</span> <span class="p">==</span> <span class="n">_size</span> <span class="p">-</span> <span class="m">1</span> <span class="p">||</span> <span class="n">y</span> <span class="p">==</span> <span class="m">0</span> <span class="p">||</span> <span class="n">y</span> <span class="p">==</span> <span class="n">size</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span>   <span class="c1">// ê°€ì¥ ìë¦¬ì˜ íƒ€ì¼ë“¤ì„ ë²½ìœ¼ë¡œ ì •ì˜</span>
                        <span class="n">_tile</span><span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span> <span class="p">=</span> <span class="n">TileType</span><span class="p">.</span><span class="n">Wall</span><span class="p">;</span>  
                    <span class="k">else</span>   <span class="c1">// ê°€ì¥ ìë¦¬ê°€ ì•„ë‹Œ íƒ€ì¼ë“¤ì€ ê°ˆ ìˆ˜ ìˆëŠ” ê³³ìœ¼ë¡œ ì •ì˜</span>
                        <span class="n">_tile</span><span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span> <span class="p">=</span> <span class="n">TileType</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Render</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">ConsoleColor</span> <span class="n">prevColor</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="n">ForegroundColor</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">_size</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_size</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">Console</span><span class="p">.</span><span class="n">ForegroundColor</span> <span class="p">=</span> <span class="nf">GetTileColor</span><span class="p">(</span><span class="n">_tile</span><span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]);</span> 
                    <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">CIRCLE</span><span class="p">);</span>  <span class="c1">// ë™ê·¸ë¼ë¯¸ 1ê°œ ê·¸ë¦¼</span>
                <span class="p">}</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">();</span>  <span class="c1">// ê°œí–‰</span>
            <span class="p">}</span>

            <span class="n">Console</span><span class="p">.</span><span class="n">ForegroundColor</span> <span class="p">=</span> <span class="n">prevColor</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">ConsoleColor</span> <span class="nf">GetTileColor</span><span class="p">(</span><span class="n">TileType</span> <span class="n">type</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">switch</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="n">TileType</span><span class="p">.</span><span class="n">Empty</span><span class="p">:</span>  <span class="c1">// ê°ˆ ìˆ˜ ìˆëŠ” ê³³ì´ë©´ ì´ˆë¡ìƒ‰ ë¦¬í„´</span>
                    <span class="k">return</span> <span class="n">ConsoleColor</span><span class="p">.</span><span class="n">Green</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">TileType</span><span class="p">.</span><span class="n">Wall</span><span class="p">:</span>  <span class="c1">// ê°ˆ ìˆ˜ ì—†ëŠ” ë²½ì´ë©´ ë¹¨ê°„ìƒ‰ ë¦¬í„´</span>
                    <span class="k">return</span> <span class="n">ConsoleColor</span><span class="p">.</span><span class="n">Red</span><span class="p">;</span>
                <span class="k">default</span><span class="p">:</span>  <span class="c1">// ë””í´íŠ¸ëŠ” ì´ˆë¡ìƒ‰ ë¦¬í„´</span>
                    <span class="k">return</span> <span class="n">ConsoleColor</span><span class="p">.</span><span class="n">Green</span><span class="p">;</span>  
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/42318591/94975616-35e8c500-054d-11eb-8f68-1def6907cf9d.png" alt="image" /></p>

<ul>
  <li><em>Render()</em> ì—ì„œ ì›ë˜ ìƒ‰ì„ ë³´ì¡´í•œ ì´ìœ 
    <ul>
      <li>ì–´ì°¨í”¼ ìƒ‰ì€ ë¯¸ë¡œë¥¼ ê·¸ë¦´ ë•Œë§Œ ì‚¬ìš©ë  ê±°ë¼ì„œ ë‹¤ì‹œ ì›ë˜ ìƒ‰ìœ¼ë¡œ ëŒë ¤ ì£¼ì§€ ì•Šìœ¼ë©´ ìœ„ ì‚¬ì§„ì²˜ëŸ¼ ê·¸ ì´í›„ì˜ ì½˜ì†” ì¶œë ¥ì˜ ìƒ‰ì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ë‹ˆê¹Œ</li>
    </ul>
  </li>
</ul>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ConsoleColor</span> <span class="n">prevColor</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="n">ForegroundColor</span><span class="p">;</span>  <span class="c1">// ì›ë˜ ìƒ‰ ë³´ì¡´</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">y</span> <span class="p">&lt;</span> <span class="n">_size</span><span class="p">;</span> <span class="n">y</span><span class="p">++)</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="p">&lt;</span> <span class="n">_size</span><span class="p">;</span> <span class="n">x</span><span class="p">++)</span> 
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">ForegroundColor</span> <span class="p">=</span> <span class="nf">GetTileColor</span><span class="p">(</span><span class="n">_tile</span><span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]);</span> 
        <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">CIRCLE</span><span class="p">);</span>  <span class="c1">// ë™ê·¸ë¼ë¯¸ 1ê°œ ê·¸ë¦¼</span>
    <span class="p">}</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">();</span>  <span class="c1">// ê°œí–‰</span>
<span class="p">}</span>

<span class="n">Console</span><span class="p">.</span><span class="n">ForegroundColor</span> <span class="p">=</span> <span class="n">prevColor</span><span class="p">;</span>  <span class="c1">// ë³´ì¡´í–ˆë˜ ìƒ‰ìœ¼ë¡œ ë‹¤ì‹œ ë˜ëŒë¦¼</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="programcs">ğŸ“œProgram.cs</h3>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Algorithm</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Board</span> <span class="n">board</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Board</span><span class="p">();</span>
            <span class="n">board</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="m">25</span><span class="p">);</span>

            <span class="n">Console</span><span class="p">.</span><span class="n">CursorVisible</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

            <span class="k">const</span> <span class="kt">int</span> <span class="n">WAIT_TICK</span> <span class="p">=</span> <span class="m">1000</span> <span class="p">/</span> <span class="m">30</span><span class="p">;</span>

            <span class="kt">int</span> <span class="n">lastTick</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="err">#</span><span class="n">region</span> <span class="err">í”„ë ˆì„</span> <span class="err">ê´€ë¦¬</span>
                <span class="kt">int</span> <span class="n">currentTick</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Environment</span><span class="p">.</span><span class="n">TickCount</span><span class="p">;</span>  <span class="c1">// ë°€ë¦¬ ì„¸ì»¨ì¦ˆë¡œ ë‚˜íƒ€ë‚¸ í˜„ì¬ì‹œê°„.  1 ë°€ë¦¬ ì„¸ì»¨ì¦ˆ = 1/1000 ì´ˆ</span>
                <span class="kt">int</span> <span class="n">elapsedTick</span> <span class="p">=</span> <span class="n">currentTick</span> <span class="p">-</span> <span class="n">lastTick</span><span class="p">;</span> <span class="c1">// ê²½ê³¼ ì‹œê°„(í˜„ì¬ì‹œê°„ - ë§ˆì§€ë§‰ìœ¼ë¡œ ì° ì‹œê°„)</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">elapsedTick</span> <span class="p">&lt;</span> <span class="m">1000</span> <span class="p">/</span> <span class="m">30</span><span class="p">)</span> <span class="c1">// ê²½ê³¼í•œ ì‹œê°„ì´ 1/30ì´ˆë³´ë‹¤ ì‘ë‹¤ë©´ ì•„ë˜ ê³¼ì •ì„ ì²˜ë¦¬ í•˜ì§€ ì•Šê³  ëŒì•„ê°. ì¦‰ 30í”„ë ˆì„ ê¸°ì¤€, í•œ í”„ë ˆì„ ë‹¹ í•œë²ˆ ì²˜ë¦¬ë˜ë„ë¡!</span>
                    <span class="k">continue</span><span class="p">;</span>
                <span class="n">lastTick</span> <span class="p">=</span> <span class="n">currentTick</span><span class="p">;</span>  <span class="c1">// 1/30ì´ˆ, ì¦‰ í•œ í”„ë ˆì„ì´ ê²½ê³¼ ë˜ì—ˆë‹¤ë©´ ë§ˆì§€ë§‰ ì¸¡ì • ì‹œê°„ì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì—…ëƒ</span>
                <span class="err">#</span><span class="n">endregion</span>

                <span class="c1">// 1.ì…ë ¥</span>
                <span class="c1">// 2.ë¡œì§</span>
                <span class="c1">// 3.ë Œë”ë§</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">SetCursorPosition</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
                <span class="n">board</span><span class="p">.</span><span class="nf">Render</span><span class="p">();</span>  <span class="c1">// ë¯¸ë¡œ ë Œë”ë§</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET