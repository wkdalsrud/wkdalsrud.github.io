I"Ôâ<p class="notice--warning">í™ì •ëª¨ êµìˆ˜ë‹˜ì˜ ê°•ì˜ <strong>í™ì •ëª¨ì˜ ë”°ë¼í•˜ë©° ë°°ìš°ëŠ” Cì–¸ì–´(ë¶€ë¡)</strong> ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€<br />
<u>ppt ìº¡ì²˜ëŠ” ëª¨ë‘ êµìˆ˜ë‹˜ ê°•ì˜ì—ì„œ ìº¡ì²˜í•œ ê²ƒì„ì„ ë°í™ë‹ˆë‹¤.</u></p>

<h1 id="chapter-3-ì¶”ìƒí™”">Chapter 3. ì¶”ìƒí™”</h1>

<h2 id="-ì¸í„°í˜ì´ìŠ¤ì˜-í•„ìš”ì„±">ğŸš€ ì¸í„°í˜ì´ìŠ¤ì˜ í•„ìš”ì„±</h2>

<p><img src="https://user-images.githubusercontent.com/42318591/109135460-7239ed80-779a-11eb-82ac-6a9b21331625.png" alt="image" /></p>

<p><img src="https://user-images.githubusercontent.com/42318591/109145292-a8309f00-77a5-11eb-950e-90818472a9f8.png" alt="image" /></p>

<p>â€œì–´ë–¤ ë°ì´í„° ì•„ì´í…œì„ ë‹´ì„ ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸â€ë¡œì„œ ì¶”ìƒí™” í•œë‹¤. ğŸ‘‰ <strong>ì¼ë°˜í™”!!</strong> ì˜í™” í‰ì  ë¿ë§Œ ì•„ë‹ˆë¼ ì–´ë–¤ ë°ì´í„°ë“  ë‹´ì„ ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ë¡œì„œ ì¼ë°˜í™”í•˜ê¸°. <u>ëª¨ë“  ì•„ì´í…œ ë¦¬ìŠ¤íŠ¸ë“¤ì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê³µí†µëœ "ê°ì²´"ì™€ "ì—°ì‚°"ì„ ì •ë¦¬í•˜ì—¬ ì¼ë°˜í™”í•  ìˆ˜ ìˆê² ë‹¤.</u></p>

<ul>
  <li>1ï¸âƒ£ â€œê°ì²´â€ ì¼ë°˜í™” (OOP ê°œë…ì—ì„œ ë³´ìë©´ ë©¤ë²„ ë³€ìˆ˜)</li>
  <li>2ï¸âƒ£ â€œì—°ì‚°â€ ì¼ë°˜í™” (OOP ê°œë…ì—ì„œ ë³´ìë©´ ì¶”ìƒ í•¨ìˆ˜)</li>
</ul>

<p><br /></p>

<h2 id="-ì¶”ìƒí™”-ê³¼ì •">ğŸš€ ì¶”ìƒí™” ê³¼ì •</h2>

<p><img src="https://user-images.githubusercontent.com/42318591/109145591-052c5500-77a6-11eb-9034-95e5dcff6fd1.png" alt="image" /></p>

<ul>
  <li>1ï¸âƒ£ ë°ì´í„°ì™€ ìë£Œ êµ¬ì¡°ì˜ ë¶„ë¦¬
    <ul>
      <li>ì˜í™” ë°ì´í„°ë§Œ ë‹´ì„ ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ì—ì„œ ëª¨ë“  ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ë¡œì„œ ì¼ë°˜í™” í•´ì•¼ í•˜ê¸° ë–„ë¬¸</li>
      <li>í™˜ì ë¦¬ìŠ¤íŠ¸, ì˜í™” ë¦¬ìŠ¤íŠ¸, ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ ê°™ì€ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ë‹´ëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ êµ¬ì²´í™” ë  ìˆ˜ ìˆë„ë¡ â€œë¦¬ìŠ¤íŠ¸â€ ë¼ëŠ” ì¶”ìƒì ì¸ ê°œë…ì„ ì¼ë°˜í™”í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë°ì´í„°ì™€ ë¶„ë¦¬í•´ì•¼í•œë‹¤.</li>
      <li>ì´ë ‡ê²Œ ë¶„ë¦¬í•˜ë©´ <u>êµ¬ì²´í™”í•  ë°ì´í„°ë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë°”ê¿€ ë•Œ ì‰½ê²Œ ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë‹¤.</u>
        <ul>
          <li>ì˜í™” í‰ì  ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‡¼í•‘ ë¦¬ìŠ¤íŠ¸ë¡œ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆìŒ!</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><img src="https://user-images.githubusercontent.com/42318591/109146967-d44d1f80-77a7-11eb-8d6b-70fe8b8be7f4.png" alt="image" /></p>

<ul>
  <li>2ï¸âƒ£ ì½”ë“œ ì¬ì‚¬ìš©
    <ul>
      <li>ì™¼ìª½ ì½”ë“œê°€ ì˜¤ë¥¸ìª½ ì½”ë“œë¡œ ê°„ë‹¨í•´ì§ˆ ìˆ˜ ìˆë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="-ì˜í™”-í‰ì -ë¦¬ìŠ¤íŠ¸-ì¼ë°˜í™”í•˜ê¸°-ì–´ë–¤-ë¦¬ìŠ¤íŠ¸ë¡œë“ -êµ¬ì²´í™”-ë -ìˆ˜-ìˆë„ë¡">ğŸš€ ì˜í™” í‰ì  ë¦¬ìŠ¤íŠ¸ ì¼ë°˜í™”í•˜ê¸° (ì–´ë–¤ ë¦¬ìŠ¤íŠ¸ë¡œë“  êµ¬ì²´í™” ë  ìˆ˜ ìˆë„ë¡!)</h2>

<p><a href="https://ansohxxn.github.io/datastructure2/ch1/">ì˜í™” í‰ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ ì½”ë“œ ì°¸ê³ </a></p>

<p><img src="https://user-images.githubusercontent.com/42318591/109150979-f09f8b00-77ac-11eb-9f9b-b4752623a6ee.png" alt="image" /></p>

<p>â€œë¦¬ìŠ¤íŠ¸â€ìì²´ë¥¼ <u>ì¼ë°˜í™”</u> í•´ë†“ìœ¼ë©´ ë‚˜ì¤‘ì— ì˜í™” ë¦¬ìŠ¤íŠ¸ë¥¼ í™˜ì ë¦¬ìŠ¤íŠ¸ë¡œ ë°”ê¾¸ë”ë¼ë„ <strong>Data íƒ€ì…ë§Œ â€˜í™˜ìâ€™ í•„ë“œë¡œ ë°”ê¾¸ë©´ ê·¸ë§Œì´ë‹¤!</strong></p>

<h3 id="simplelisth">ğŸ“œSimpleList.h</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#pragma once
</span>
<span class="cp">#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="cp">#define TSIZE 45
</span>
<span class="c1">// ë‚˜ì¤‘ì— ì˜í™” ë¦¬ìŠ¤íŠ¸ ë§ê³  ë‹¤ë¥¸ ë°ì´í„° ë¦¬ìŠ¤íŠ¸ ì“¸ê±°ë¼ë©´</span>
<span class="c1">// ì—¬ê¸°ë§Œ ìˆ˜ì •í•˜ë©´ ë•¡!!!!! ğŸ’›âœ¨ğŸ’›âœ¨ğŸ’›âœ¨</span>
<span class="c1">// ì–´ë–¤ ë°ì´í„°ë¥¼ ë‹´ì„ ë¦¬ìŠ¤íŠ¸ëƒì— ë”°ë¼ </span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">movie</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="n">TSIZE</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">year</span><span class="p">;</span>
	<span class="c1">// struct movie* next;</span>
<span class="p">}</span><span class="n">Item</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">node</span> <span class="p">{</span>
	<span class="n">Item</span> <span class="n">item</span><span class="p">;</span>
	<span class="k">struct</span> <span class="nc">node</span><span class="o">*</span> <span class="n">next</span><span class="p">;</span>
<span class="p">}</span><span class="n">Node</span><span class="p">;</span>

<span class="c1">// ì—°ê²°ë¦¬ìŠ¤íŠ¸ ìë£Œêµ¬ì¡°</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="nc">list</span> <span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">head</span><span class="p">;</span> <span class="c1">// head pointer</span>
	<span class="kt">int</span> <span class="n">size</span><span class="p">;</span> <span class="c1">// number of items</span>
<span class="p">}</span><span class="n">List</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">InitializeList</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>
<span class="kt">bool</span> <span class="nf">IsEmpty</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>  
<span class="kt">bool</span> <span class="nf">IsFull</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>  
<span class="kt">bool</span> <span class="nf">AddItem</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">InsertbyIndex</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">RemoveByIndex</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">);</span>
<span class="kt">bool</span> <span class="nf">InsertItemFront</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>
<span class="kt">bool</span> <span class="nf">Find</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="n">Item</span> <span class="n">item_to_find</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">index</span><span class="p">,</span> <span class="n">Item</span><span class="o">*</span> <span class="n">item_found</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">compare_func</span><span class="p">)(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">));</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">CountItems</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">PrintAllItems</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">print_an_item_func</span><span class="p">)(</span><span class="n">Item</span> <span class="n">item</span><span class="p">));</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">WriteAllItems</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">write_an_item_func</span><span class="p">)(</span><span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span> <span class="n">item</span><span class="p">));</span>

<span class="kt">void</span> <span class="nf">Traverse</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">pfun</span><span class="p">)(</span><span class="n">Item</span> <span class="n">item</span><span class="p">));</span> 
<span class="kt">void</span> <span class="nf">ClearList</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>

<span class="kt">bool</span> <span class="nf">FindItemByIndex</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="n">Item</span><span class="o">**</span> <span class="n">item</span><span class="p">);</span>
<span class="n">Node</span><span class="o">*</span> <span class="nf">FindNodeByIndex</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">index</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">RemoveFirstItem</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">RemoveNextItem</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">prev</span><span class="p">);</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ReadFromFile</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">filename</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">read_an_item_func</span><span class="p">)(</span><span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span><span class="o">*</span> <span class="n">item</span><span class="p">));</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">FindAndRun</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="n">Item</span> <span class="n">item_to_find</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">compare_func</span><span class="p">)(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">),</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">func_run</span><span class="p">)(</span><span class="n">Item</span> <span class="n">item</span><span class="p">));</span>
</code></pre></div></div>

<ul>
  <li></li>
</ul>

<p><br /></p>

<h3 id="simplelistc">ğŸ“œSimpleList.c</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"SimpleList.h"</span><span class="cp">
#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">CopyToNode</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">InitializeList</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">IsEmpty</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ì—°ê²°ë¦¬ìŠ¤íŠ¸ë¼ë©´ ê½‰ ì°° ì¼ì´ ê±°ì˜ ë°œìƒí•˜ì§€ ì•Šê² ì§€ë§Œ ë°°ì—´ì¼ ê²½ìš°ì—” ì¤‘ìš”í•˜ê²Œ ì‘ìš©í•  í•¨ìˆ˜</span>
<span class="kt">bool</span> <span class="nf">IsFull</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span> 
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pt</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">full</span><span class="p">;</span>

	<span class="n">pt</span> <span class="o">=</span> <span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Node</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">pt</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="c1">// ì‹¤íŒ¨í–ˆë‹¤ë©´ ê½‰ì°¨ì„œ ë” ì´ìƒ ë§Œë“¤ ìˆ˜ ì—†ëŠ”ê±¸ë¡œ</span>
		<span class="n">full</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">full</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">free</span><span class="p">(</span><span class="n">pt</span><span class="p">);</span>

	<span class="k">return</span> <span class="n">full</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">CountItems</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="o">++</span><span class="n">count</span><span class="p">;</span>
		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">count</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">InsertItemFront</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="n">new_node</span> <span class="o">=</span> <span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Node</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">new_node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">priintf</span><span class="p">(</span><span class="s">"Malloc failed.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">CopyToNode</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">new_node</span><span class="p">);</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
	<span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="n">new_node</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
	
	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">AppendItem</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">Node</span><span class="o">*</span> <span class="n">prev</span><span class="p">)</span> <span class="c1">// prev ë’¤ì— ì•„ì´í…œ ì¶”ê°€</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="n">new_node</span> <span class="o">=</span> <span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Node</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">new_node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">priintf</span><span class="p">(</span><span class="s">"Malloc failed.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">CopyToNode</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">new_node</span><span class="p">);</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
	<span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="n">new_node</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>

	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">AddItem</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span> <span class="c1">// ë§¨ ë’¤ì— ì¶”ê°€</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">search</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

	<span class="n">new_node</span> <span class="o">=</span> <span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Node</span><span class="p">));</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">new_node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">priintf</span><span class="p">(</span><span class="s">"Malloc failed.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">CopyToNode</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">new_node</span><span class="p">);</span>
	<span class="n">new_node</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">search</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="k">while</span> <span class="p">(</span><span class="n">search</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="n">search</span> <span class="o">=</span> <span class="n">search</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">search</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">new_node</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// êµ¬ì²´í™” ë  ì•„ì´í…œì— ë”°ë¼ ì¶œë ¥í•´ì•¼ í• ê²Œ ë‹¤ë¥´ë‹¤. </span>
<span class="c1">// (ì˜í™”ë¦¬ìŠ¤íŠ¸ì˜ ê²½ìš° ì œëª©ê³¼ ë ˆì´íŒ…ì„ ì¶œë ¥, í™˜ì ë¦¬ìŠ¤íŠ¸ì˜ ê²½ìš° í™˜ì ì´ë¦„ê³¼ ë³‘ëª… ì¶œë ¥)</span>
<span class="c1">// ë”°ë¼ì„œ ì¶œë ¥í•´ì•¼í•  êµ¬ì¡°ì²´ ë©¤ë²„ê°€ ë‹¤ë¥´ë¯€ë¡œ </span>
<span class="c1">// ì´ ë¶€ë¶„ì€ main.cì—ì„œ ë‹¹ì‹œì— êµ¬ì²´í™” ë˜ëŠ” ë°ì´í„° ì¢…ë¥˜ì˜ ë©¤ë²„ë“¤ì„ ì¶œë ¥í•˜ëŠ” </span>
<span class="c1">// í•¨ìˆ˜ë¥¼ ë”°ë¡œ ë§Œë“¤ê³  ì´ í•¨ìˆ˜ í¬ì¸í„°ë¥¼ ë„˜ê¸°ëŠ” ì‹ìœ¼ë¡œ!</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">WriteAllItems</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">write_an_item_func</span><span class="p">)(</span><span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span> <span class="n">item</span><span class="p">))</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="p">(</span><span class="o">*</span><span class="n">write_an_item_func</span><span class="p">)(</span><span class="n">file</span><span class="p">,</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">);</span>
		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">count</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">count</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">PrintAllItems</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">print_an_item_func</span><span class="p">)(</span><span class="n">Item</span> <span class="n">item</span><span class="p">))</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%d : "</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span>
		<span class="p">(</span><span class="o">*</span><span class="n">print_an_item_func</span><span class="p">)(</span><span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">);</span>
		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">count</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">count</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ëª¨ë“  ë…¸ë“œë¥¼ ëŒë©´ì„œ pfun í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚´</span>
<span class="kt">void</span> <span class="nf">Traverse</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">pfun</span><span class="p">)(</span><span class="n">Item</span> <span class="n">item</span><span class="p">))</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="p">(</span><span class="o">*</span><span class="n">pfun</span><span class="p">)(</span><span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">);</span>
		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ê°™ë‹¤ê³  ì°¾ì•„ë‚´ëŠ” ê¸°ì¤€ -&gt; ë¹„êµí•¨ìˆ˜ compare_func ì£¼ì†Œ í•¨ìˆ˜ë¡œ íŒë‹¨ (í•¨ìˆ˜í¬ì¸í„°)</span>
<span class="kt">bool</span> <span class="nf">Find</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="n">Item</span> <span class="n">item_to_find</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">index</span><span class="p">,</span> <span class="n">Item</span><span class="o">*</span> <span class="n">item_found</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">compare_func</span><span class="p">)(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">))</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
	
	<span class="o">*</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">((</span><span class="o">*</span><span class="n">compare_func</span><span class="p">)(</span><span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">,</span> <span class="n">item_to_find</span><span class="p">)</span> <span class="o">==</span> <span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
			<span class="o">*</span><span class="n">item_found</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">;</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="o">*</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">ClearList</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="n">iterator</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">temp</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">free</span><span class="p">(</span><span class="n">iterator</span><span class="p">);</span>
		<span class="n">iterator</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">FindItemByIndex</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="n">Item</span><span class="o">**</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span> 

	<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="n">index</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>

		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">count</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">;</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="n">Node</span><span class="o">*</span> <span class="nf">FindNodeByIndex</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

	<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="n">index</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>

		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">count</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">pnode</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">InsertbyIndex</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">,</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">FindNodeByIndex</span><span class="p">(</span><span class="n">plist</span><span class="p">,</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">prev</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="n">InsertItemFront</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">plist</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">AppendItem</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">prev</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">RemoveFirstItem</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="n">temp</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
	<span class="n">free</span><span class="p">(</span><span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">);</span>
	<span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">RemoveNextItem</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span> <span class="n">prev</span><span class="p">)</span> <span class="c1">// prev ë‹¤ìŒì— ìˆëŠ” ì•„ì´í…œ ì‚­ì œ</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="n">temp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">temp</span> <span class="o">=</span> <span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
	<span class="n">free</span><span class="p">(</span><span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">);</span>
	<span class="n">prev</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">RemoveByIndex</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">FindNodeByIndex</span><span class="p">(</span><span class="n">plist</span><span class="p">,</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// ì‚­ì œí•  ì¸ë±ìŠ¤ì— ìœ„ì¹˜í•œ ë…¸ë“œì˜ ì´ì „ ë…¸ë“œ</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">prev</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="c1">// when index is 0</span>
		<span class="n">RemoveFirstItem</span><span class="p">(</span><span class="n">plist</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">RemoveNextItem</span><span class="p">(</span><span class="n">prev</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Item ì´ ë­”ì§€ ëª¨ë¥´ëŠ” ìƒíƒœì—¬ì•¼</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">ReadFromFile</span><span class="p">(</span><span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">filename</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">read_an_item_func</span><span class="p">)(</span><span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span><span class="o">*</span> <span class="n">item</span><span class="p">))</span>
<span class="p">{</span>
	<span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s">"r"</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">file</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"ERROR: Cannot open file.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
		<span class="n">exite</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="kt">int</span> <span class="n">num</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">fscanf</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s">"%d%*c"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"ERROR: Wrong file format.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
		<span class="n">exite</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">num</span><span class="p">;</span> <span class="o">++</span><span class="n">n</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">Item</span> <span class="n">new_item</span><span class="p">;</span>

		<span class="k">const</span> <span class="kt">bool</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">read_an_item_func</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">new_item</span><span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">flag</span> <span class="o">==</span> <span class="nb">false</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"ERROR: Wrong file format.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
			<span class="n">exite</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="k">else</span>
			<span class="n">AddItem</span><span class="p">(</span><span class="n">new_item</span><span class="p">,</span> <span class="n">plist</span><span class="p">);</span>

		<span class="n">fclose</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>

		<span class="k">return</span> <span class="n">num</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">FindAndRun</span><span class="p">(</span><span class="k">const</span> <span class="n">List</span><span class="o">*</span> <span class="n">plist</span><span class="p">,</span> <span class="n">Item</span> <span class="n">item_to_find</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">compare_func</span><span class="p">)(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">),</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">func_run</span><span class="p">)(</span><span class="n">Item</span> <span class="n">item</span><span class="p">))</span>
<span class="p">{</span>
	<span class="n">Node</span><span class="o">*</span> <span class="n">pnode</span> <span class="o">=</span> <span class="n">plist</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">;</span>

	<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">pnode</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">((</span><span class="o">*</span><span class="n">compare_func</span><span class="p">)(</span><span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">,</span> <span class="n">item_to_find</span><span class="p">)</span> <span class="o">==</span> <span class="nb">true</span><span class="p">)</span>
			<span class="p">(</span><span class="o">*</span><span class="n">func_run</span><span class="p">)(</span><span class="n">pnode</span><span class="o">-&gt;</span><span class="n">item</span><span class="p">);</span>
		<span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
		<span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">count</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><br /></p>

<h3 id="mainc">ğŸ“œmain.c</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"SimpleList.h"</span><span class="cp">
</span>
<span class="kt">bool</span> <span class="nf">read_an_item_func</span><span class="p">(</span><span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span><span class="o">*</span> <span class="n">new_item</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">print_an_item</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">);</span>
<span class="kt">bool</span> <span class="nf">name_starts_with</span><span class="p">(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">);</span>
<span class="kt">bool</span> <span class="nf">joined_in</span><span class="p">(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">List</span> <span class="n">avengers</span><span class="p">;</span>
	<span class="n">InitializeList</span><span class="p">(</span><span class="o">&amp;</span><span class="n">avengers</span><span class="p">);</span>

	<span class="cm">/*
		1. Read data from a file.
		2. Print all members.
		3. Print all members whose names start with "Black"
		4. Print all members who joined in 1965.
	*/</span>

	<span class="k">const</span> <span class="kt">int</span> <span class="n">n_items</span> <span class="o">=</span> <span class="n">ReadFromFile</span><span class="p">(</span><span class="o">&amp;</span><span class="n">avengers</span><span class="p">,</span> <span class="s">"avengers.txt"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">read_an_item_func</span><span class="p">);</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%d avengers joined.</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">n_items</span><span class="p">);</span>

	<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Print all members</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="n">PrintAllItems</span><span class="p">(</span><span class="o">&amp;</span><span class="n">avengers</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">print_an_item</span><span class="p">);</span>

	<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Print all members whose names start with </span><span class="se">\"</span><span class="s">Black</span><span class="se">\"</span><span class="s"> : </span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="n">Item</span> <span class="n">item_to_find</span><span class="p">;</span>
	<span class="n">strcpy</span><span class="p">(</span><span class="n">item_to_find</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="s">"Black"</span><span class="p">);</span>
	<span class="n">FindAndRun</span><span class="p">(</span><span class="o">&amp;</span><span class="n">avengers</span><span class="p">,</span> <span class="n">item_to_find</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">name_starts_with</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">print_an_item</span><span class="p">);</span>

	<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Print all members who joined in 1965:</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
	<span class="n">item_to_find</span><span class="p">.</span><span class="n">year</span> <span class="o">=</span> <span class="mi">1965</span><span class="p">;</span>
	<span class="n">FindAndRun</span><span class="p">(</span><span class="o">&amp;</span><span class="n">avengers</span><span class="p">,</span> <span class="n">item_to_find</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">name_starts_with</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">print_an_item</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">read_an_item_func</span><span class="p">(</span><span class="kt">FILE</span><span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="n">Item</span><span class="o">*</span> <span class="n">new_item</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">fscanf</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s">"%[^</span><span class="se">\n</span><span class="s">]%*c"</span><span class="p">,</span> <span class="n">new_item</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span> <span class="o">||</span>
		<span class="n">fsacnf</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s">"%d%*c"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">new_item</span><span class="o">-&gt;</span><span class="n">year</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">print_an_item</span><span class="p">(</span><span class="n">Item</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\"</span><span class="s">%s</span><span class="se">\"</span><span class="s"> joined in %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">year</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">name_starts_with</span><span class="p">(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">name</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">joined_in</span><span class="p">(</span><span class="n">Item</span> <span class="n">a</span><span class="p">,</span> <span class="n">Item</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">a</span><span class="p">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">year</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />
<p><br /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
</code></pre></div></div>

<p><a href="#" class="btn btn--primary align-right">ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°</a></p>
:ET